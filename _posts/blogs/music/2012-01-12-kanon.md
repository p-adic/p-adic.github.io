---
layout: blog
title: 機能和声の実装 － 幹音
date: 2020-01-12
excerpt: "幹音のクラスを実装します。"
blog: true
tags: [音楽,機能和声,C++]
---

# 数式での翻訳

文字列の集合
\begin{eqnarray}
\\{\textrm{Do},\textrm{Re},\textrm{Mi},\textrm{Fa},\textrm{So},\textrm{La},\textrm{Ti}\\}
\end{eqnarray}
に属する文字列を***幹音***と呼びます。


# C++で実装する際の宣言

幹音のクラスKanOnおよび関係する関数たちを以下のように宣言します。

~~~c++

class KanOn
{

private:
  string m_N;

public:
  inline KanOn( const string& N );

  inline const string& Display() const noexcept;
  
};

bool operator==( const KanOn& N1 , const KanOn& N2 );
inline bool operator!=( const KanOn& N1 , const KanOn& N2 );

const KanOn& Do();
const KanOn& Re();
const KanOn& Mi();
const KanOn& Fa();
const KanOn& So();
const KanOn& La();
const KanOn& Ti();

~~~


# C++で実装する際の仕様

実際の実装例については[こちら](https://github.com/p-adic/cpp/tree/master/Music/OnMei/KanOn)をご覧下さい。実装においては以下の仕様を想定しています。
- クラス`KanOn`のコンストラクタは自然なものである。
- `inline const string& KanOn::Display() const noexcept`はメンバ変数`m_N`への参照返しである。
- クラス`KanOn`に対する等号演算子は自然なものである。
- `const KanOn& Do()`～`const KanOn& Ti()`は関数名から自然に連想される文字列を`inline const string& KanOn::Display() const noexcept`で返す静的変数への参照返しである。
